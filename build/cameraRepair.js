module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=document.createElement("canvas"),a=n.getContext("2d");t.default=function(e,t){var r=(t||{}).resultFile;return new Promise((function(t,o){!function(e,t,r){var n=new FileReader;n.onload=function(e){var r=new DataView(e.target.result);if(65496!=r.getUint16(0,!1))return t(-2);for(var n=r.byteLength,a=2;a<n;){var o=r.getUint16(a,!1);if(a+=2,65505==o){if(1165519206!=r.getUint32(a+=2,!1))return t(-1);var i=18761==r.getUint16(a+=6,!1);a+=r.getUint32(a+4,i);var u=r.getUint16(a,i);a+=2;for(var f=0;f<u;f++)if(274==r.getUint16(a+12*f,i))return t(r.getUint16(a+12*f+8,i))}else{if(65280!=(65280&o))break;a+=r.getUint16(a,!1)}}return t(-1)},n.onerror=function(e){r(e)},n.readAsArrayBuffer(e)}(e,(function(i){if(-2===i)return console.error("The first parameter must be a picture");var u=new FileReader;u.onload=function(e){var o=new Image;o.src=e.target.result,o.onload=function(){var e,u,f=o.width,c=o.height;switch(f>c&&f>800?u=(e=400)*c/f:c>f&&c>1200?e=(u=600)*f/c:(e=f,u=c),n.width=e,n.height=u,i){case 3:a.rotate(180*Math.PI/180),a.drawImage(o,-e,-u,e,u);break;case 6:n.width=u,n.height=e,a.rotate(90*Math.PI/180),a.drawImage(o,0,-u,e,u);break;case 8:n.width=u,n.height=e,a.rotate(270*Math.PI/180),a.drawImage(o,-e,0,e,u);break;default:a.drawImage(o,0,0,e,u)}var l=n.toDataURL("image/png",1);t(r?function(e){for(var t=atob(e.split(",")[1]),r=t.length,n=new Uint8Array(r);r--;)n[r]=t.charCodeAt(r);return new Blob([n],{type:"image/jpeg"})}(l):l)}},u.onerror=function(e){o(e)},u.readAsDataURL(e)}),o)}))}}]).default;